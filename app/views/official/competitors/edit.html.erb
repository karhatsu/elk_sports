<%= content_for(:title, full_name(@competitor)) %>
<h2><%= yield :title %></h2>
<%= render :partial => "shared/form_errors", :locals => { :item => @competitor } %>
<%= form_for([:official, @competitor.series, @competitor]) do |f| %>
  <%= render :partial => "basic_fields", :locals => { :f => f } %>
  <% if @series.has_start_list? %>
    <hr/>
    <%= f.label :number %>
    <%= f.text_field :number, :size => 3 %>
    <%= f.label :start_time %>
    <%= f.time_text_field :start_time, :include_seconds => true, :blank => true %>
    <%= f.label :arrival_time %>
    <%= f.time_text_field :arrival_time, :include_seconds => true, :blank => true %>
    <hr/>
    <%= f.label :shots_total_input %>
    <%= f.text_field :shots_total_input, :size => 5, :maxlength => 3 %>
    (<%= t '.either_total_or_shots' %>)<br/>
    <%= t '.shots' %>
    <%= render :partial => 'official/shots/individual_shots', :locals => { :f => f,
      :competitor => @competitor } %>
    <hr/>
    <%= f.label :estimate1 %>
    <%= f.text_field :estimate1, :size => 5, :maxlength => 3 %>
    <%= f.label :estimate2 %>
    <%= f.text_field :estimate2, :size => 5, :maxlength => 3 %>
    <% if @competitor.series.estimates == 4 %>
      <%= f.label :estimate3 %>
      <%= f.text_field :estimate3, :size => 5, :maxlength => 3 %>
      <%= f.label :estimate4 %>
      <%= f.text_field :estimate4, :size => 5, :maxlength => 3 %>
    <% end %>
    <hr/>
    <%= f.radio_button :no_result_reason, '' %>Normaali
    <%= f.radio_button :no_result_reason, Competitor::DNS %><%= t '.dns' %>
    <%= f.radio_button :no_result_reason, Competitor::DNF %><%= t '.dnf' %>
    <hr/>
  <% else %>
    <%= hidden_field_tag :no_times, true %>
    <br/>
  <% end %>
  <%= submit_tag t('.save_and_previous_competitor'), :name => 'previous' %>
  <%= submit_tag t(:save) %>
  <%= submit_tag t('.save_and_next_competitor'), :name => 'next' %>
<% end %>
<hr/>
<%= link_to t('.back_to_series_competitor_list', :series_name => @series.name),
  official_series_competitors_path(@series) %>