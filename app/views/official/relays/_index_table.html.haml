%table
  %tr
    %th= t 'attributes.name'
    %th{colspan: 2}= t 'official.relays.index.teams'
    %th= t 'attributes.start_time'
    %th{colspan: 2} &nbsp;
  - @race.relays.each do |relay|
    %tr
      %td= link_to relay.name, edit_official_race_relay_path(@race, relay)
      %td.center.teams_count
        = relay.relay_teams.count
      %td
        = link_to t('official.relays.index.add_new_team'), edit_official_race_relay_path(@race, relay)
      %td
        - if relay.start_time_defined?
          = image_tag 'icon_yes.gif'
          = relay_start_time_print relay
        - else
          = link_to t('official.relays.index.set_start_time'), edit_official_race_relay_path(@race, relay)
      - if relay.relay_teams.empty?
        %td{colspan: 2}
          = link_to t('official.relays.index.remove_relay'), official_race_relay_path(@race, relay), method: :delete,
            data: { confirm: t('official.relays.index.remove_relay_confirm') }
      - else
        %td
          = link_to t('official.relays.index.results_quick_save'), official_relay_relay_quick_saves_path(relay)
        %td
          - if relay.finished?
            = t 'official.relays.index.relay_finished'
          - else
            = link_to t('official.relays.index.finish_relay'), new_official_relay_finish_relay_path(relay)
