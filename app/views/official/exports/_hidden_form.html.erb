<% race_attrs = f.object.attribute_names-["id", "created_at", "updated_at",
    "series_count", "name"] %>
<% race_attrs.each do |attr| %>
  <%= f.hidden_field attr %>
<% end %>
<%= f.fields_for(:clubs) do |club_f| %>
  <%= club_f.hidden_field :id, :value => '' %>
  <% club_attrs = club_f.object.attribute_names-["id", "created_at",
      "updated_at", "race_id"] %>
  <% club_attrs.each do |attr| %>
    <%= club_f.hidden_field attr %>
  <% end %>
<% end %>
<%= f.fields_for(:correct_estimates) do |ce_f| %>
  <%= ce_f.hidden_field :id, :value => '' %>
  <% ce_attrs = ce_f.object.attribute_names-["id", "created_at",
      "updated_at", "race_id"] %>
  <% ce_attrs.each do |attr| %>
    <%= ce_f.hidden_field attr %>
  <% end %>
<% end %>
<%= f.fields_for(:series) do |series_f| %>
  <%= series_f.hidden_field :id, :value => '' %>
  <% series_attrs = series_f.object.attribute_names-["id", "created_at",
      "updated_at", "race_id", "competitors_count"] %>
  <% series_attrs.each do |attr| %>
    <%= series_f.hidden_field attr %>
  <% end %>
  <%= series_f.fields_for(:age_groups) do |age_group_f| %>
    <%= age_group_f.hidden_field :id, :value => '' %>
    <% age_group_attrs = age_group_f.object.attribute_names-["id", "created_at",
        "updated_at", "series_id"] %>
    <% age_group_attrs.each do |attr| %>
      <%= age_group_f.hidden_field attr %>
    <% end %>
  <% end %>
  <%= series_f.fields_for(:competitors) do |competitor_f| %>
    <%= competitor_f.hidden_field :id, :value => '' %>
    <% competitor_attrs = competitor_f.object.attribute_names-["id", "created_at",
        "updated_at", "series_id", "age_group_id", "club_id"] %>
    <% competitor_attrs.each do |attr| %>
      <%= competitor_f.hidden_field attr %>
    <% end %>
    <%= competitor_f.hidden_field :club_name, :value => competitor_f.object.club.name %>
    <% if competitor_f.object.age_group %>
      <%= competitor_f.hidden_field :age_group_name,
        :value => competitor_f.object.age_group.name %>
    <% end %>
    <%= competitor_f.fields_for(:shots) do |shot_f| %>
      <%= shot_f.hidden_field :id, :value => '' %>
      <% shot_attrs = shot_f.object.attribute_names-["id", "created_at",
          "updated_at", "competitor_id"] %>
      <% shot_attrs.each do |attr| %>
        <%= shot_f.hidden_field attr %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
<%= f.fields_for(:relays) do |relay_f| %>
  <%= relay_f.hidden_field :id, :value => '' %>
  <% relay_attrs = relay_f.object.attribute_names-["id", "created_at",
      "updated_at", "race_id"] %>
  <% relay_attrs.each do |attr| %>
    <%= relay_f.hidden_field attr %>
  <% end %>
  <%= relay_f.fields_for(:relay_correct_estimates) do |ce_f| %>
    <%= ce_f.hidden_field :id, :value => '' %>
    <% ce_attrs = ce_f.object.attribute_names-["id", "created_at",
        "updated_at", "relay_id"] %>
    <% ce_attrs.each do |attr| %>
      <%= ce_f.hidden_field attr %>
    <% end %>
  <% end %>
  <%= relay_f.fields_for(:relay_teams) do |team_f| %>
    <%= team_f.hidden_field :id, :value => '' %>
    <% team_attrs = team_f.object.attribute_names-["id", "created_at",
        "updated_at", "relay_id"] %>
    <% team_attrs.each do |attr| %>
      <%= team_f.hidden_field attr %>
    <% end %>
    <%= team_f.fields_for(:relay_competitors) do |comp_f| %>
      <%= comp_f.hidden_field :id, :value => '' %>
      <% competitor_attrs = comp_f.object.attribute_names-["id", "created_at",
          "updated_at", "relay_team_id"] %>
      <% competitor_attrs.each do |attr| %>
        <%= comp_f.hidden_field attr %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
<%= f.fields_for(:team_competitions) do |tc_f| %>
  <%= tc_f.hidden_field :id, :value => '' %>
  <%= tc_f.hidden_field :name %>
  <%= tc_f.hidden_field :team_competitor_count %>
  <%= tc_f.hidden_field :temp_series_names, :value => tc_f.object.series_names %>
  <%= tc_f.hidden_field :temp_age_groups_names, :value => tc_f.object.age_groups_names %>
<% end %>
